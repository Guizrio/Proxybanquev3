<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<f:view>
	<h:head>
		<h:outputStylesheet name="css/style.css" />
	</h:head>
	<h:body>
		<ui:composition template="/template/layout.xhtml">
			<center>
				<ui:define name="header">
						<h3>Informations nouveau client</h3>
				</ui:define>
				
				<ui:define name="content">
					<h:form style="width: 100%">
						<h:panelGrid style="margin: 20px auto;" columns="2" cellpadding="1">

							<!-- PRENOM -->
							<p:inputText id="prenom" required="true" label="prenom" size="40"
								requiredMessage="champ obligatoire"
								value="#{userbean.user.prenom}">
							</p:inputText>
							<p:watermark for="prenom" value="prénom*" />
							<p:message for="prenom" />

							<!-- NOM -->
							<p:inputText id="nom" required="true" label="nom" size="40"
								requiredMessage="champ obligatoire" value="#{userbean.user.nom}">
							</p:inputText>
							<p:watermark for="nom" value="nom*" />
							<p:message for="nom" />

							<!-- GENRE -->
							<p:selectOneRadio id="genre" value="#{userbean.user.genre}">
								<f:selectItem
									itemLabel="homme &nbsp; &nbsp; &nbsp; &nbsp;
					"
									itemValue="homme" />
								<f:selectItem itemLabel="femme" itemValue="femme" />
							</p:selectOneRadio>

							<!-- DATE DE NAISSANCE -->
							<p:inputText id="datedenaissance" required="true"
								label="datedenaissance" size="40"
								requiredMessage="champ obligatoire"
								validatorMessage="mauvais format (jj/mm/aaaa)"
								value="#{userbean.user.datedenaissance}">
								<f:validateRegex
									pattern="^(?:(?:31(\/|-|\.)(?:0?[13578]|1[02]))\1|(?:(?:29|30)(\/|-|\.)(?:0?[1,3-9]|1[0-2])\2))(?:(?:1[6-9]|[2-9]\d)?\d{2})$|^(?:29(\/|-|\.)0?2\3(?:(?:(?:1[6-9]|[2-9]\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:0?[1-9]|1\d|2[0-8])(\/|-|\.)(?:(?:0?[1-9])|(?:1[0-2]))\4(?:(?:1[6-9]|[2-9]\d)?\d{2})$" />
							</p:inputText>
							<p:watermark for="datedenaissance" value="datedenaissance*" />
							<p:message for="datedenaissance" />

							<!-- EMAIL -->
							<p:inputText id="email" required="true" label="email" size="40"
								requiredMessage="merci de renseigner un e-mail"
								validatorMessage="mauvais format" value="#{userbean.user.email}">

								<f:validateRegex
									pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />

							</p:inputText>
							<p:watermark for="email" value="e-mail*" />
							<p:message for="email" />

							<!-- 				SERVICE -->
							<p:selectOneMenu id="service"
								value="#{userbean.user.niveaudeservice}" style="width:150px">
								<f:selectItem itemLabel="BASIC" itemValue="BASIC" />
								<f:selectItem itemLabel="MEDIUM" itemValue="MEDIUM" />
								<f:selectItem itemLabel="PREMIUM" itemValue="PREMIUM" />
							</p:selectOneMenu>

							<p:commandButton value="Valider" action="#{userbean.addUserJpa2}"
								icon="ui-icon-check" ajax="false" />
						</h:panelGrid>

					</h:form>
				</ui:define>
			</center>
		</ui:composition>
	</h:body>
</f:view>
</html>
